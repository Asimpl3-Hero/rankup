@keyframes svr-rec-blink {
  0%,
  46%,
  100% {
    opacity: 1;
  }

  48%,
  52% {
    opacity: 0.35;
  }
}

@keyframes svr-modal-border-flicker {
  0%,
  100% {
    box-shadow:
      0 0 0 1px rgb(0 255 65 / 55%),
      0 0 30px rgb(0 255 65 / 22%),
      0 0 42px rgb(239 255 0 / 16%);
  }

  50% {
    box-shadow:
      0 0 0 1px rgb(0 255 65 / 42%),
      0 0 20px rgb(0 255 65 / 18%),
      0 0 28px rgb(239 255 0 / 12%);
  }
}

.svr-modal-backdrop {
  position: fixed;
  inset: 0;
  z-index: 80;
  isolation: isolate;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  overflow-y: auto;
  backdrop-filter: blur(8px) saturate(108%);
  -webkit-backdrop-filter: blur(8px) saturate(108%);
  font-family: 'Press Start 2P', cursive;
  text-transform: uppercase;
  font-size: 10px;
  line-height: 1.35;
  background: rgb(0 0 0 / 66%);
}

.svr-modal-backdrop::before {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    repeating-linear-gradient(
      90deg,
      rgb(0 255 65 / 16%) 0 8px,
      rgb(239 255 0 / 14%) 8px 16px
    ),
    repeating-linear-gradient(
      0deg,
      rgb(0 0 0 / 46%) 0 8px,
      rgb(255 255 255 / 4%) 8px 16px
    );
  opacity: 0.48;
  image-rendering: pixelated;
}

.svr-modal {
  z-index: 1;
  width: min(980px, 100%);
  max-height: calc(100dvh - 2rem);
  border: 3px solid var(--svr-primary);
  outline: 1px solid rgb(0 255 65 / 55%);
  background:
    linear-gradient(180deg, rgb(255 255 255 / 2%), transparent 24%),
    linear-gradient(145deg, rgb(0 255 65 / 5%), transparent 52%),
    var(--svr-surface);
  box-shadow:
    0 0 0 1px rgb(0 255 65 / 55%),
    0 0 30px rgb(0 255 65 / 22%),
    0 0 42px rgb(239 255 0 / 16%);
  position: relative;
  overflow: hidden;
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  contain: paint;
  animation:
    svr-modal-boot 240ms steps(8, end) both,
    svr-modal-border-flicker 3.8s steps(2, end) infinite;
}

.svr-modal::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 15% 15%, rgb(0 255 65 / 14%), transparent 42%),
    radial-gradient(circle at 80% 80%, rgb(239 255 0 / 14%), transparent 48%);
}

.svr-modal::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.14;
  background:
    repeating-linear-gradient(0deg, rgb(255 255 255 / 4%) 0 1px, transparent 1px 4px),
    repeating-linear-gradient(90deg, rgb(0 255 65 / 6%) 0 1px, transparent 1px 4px);
  animation: svr-crt-hum 260ms steps(2, end) infinite;
}

.svr-modal-header {
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  border-bottom: 2px solid rgb(239 255 0 / 65%);
  padding: 0.9rem 1rem;
  background:
    linear-gradient(180deg, rgb(0 255 65 / 7%), rgb(0 0 0 / 82%)),
    rgb(0 0 0 / 82%);
}

.svr-modal-chip {
  display: inline-block;
  color: #000;
  padding: 0.3rem 0.55rem;
  border: 2px solid rgb(239 255 0 / 65%);
  box-shadow:
    inset 0 -2px 0 rgb(0 0 0 / 32%),
    2px 2px 0 rgb(0 0 0 / 45%);
  background: var(--svr-primary);
}

.svr-modal-close {
  --ui-button-padding: 0;
  --ui-button-min-height: 2.2rem;
  color: #001a09;
  width: 2.2rem;
  height: 2.2rem;
  border: 2px solid var(--svr-secondary);
  background:
    linear-gradient(180deg, rgb(255 255 255 / 24%), transparent 45%),
    var(--svr-secondary);
  box-shadow:
    inset 0 -2px 0 rgb(0 0 0 / 34%),
    3px 3px 0 #007d24;
}

.svr-modal-close:hover:not(:disabled) {
  box-shadow:
    inset 0 -2px 0 rgb(0 0 0 / 34%),
    5px 5px 0 #007d24,
    0 0 10px rgb(0 255 65 / 38%);
}

.svr-modal-close:active:not(:disabled) {
  box-shadow:
    inset 0 -2px 0 rgb(0 0 0 / 34%),
    2px 2px 0 #007d24;
}

.svr-modal-body {
  position: relative;
  z-index: 1;
  padding: 1rem;
  min-height: 0;
  overflow-y: auto;
  background:
    repeating-linear-gradient(0deg, rgb(255 255 255 / 2.6%) 0 1px, transparent 1px 4px),
    linear-gradient(180deg, rgb(0 0 0 / 42%), transparent 30%);
}

.svr-modal-layout {
  display: grid;
  gap: 1rem;
}

.svr-modal-preview {
  display: grid;
  gap: 0.5rem;
}

.svr-modal-preview-frame {
  position: relative;
  overflow: hidden;
  border: 2px solid var(--svr-secondary);
  min-height: 220px;
  background:
    repeating-linear-gradient(
      135deg,
      rgb(255 255 255 / 4%) 0 8px,
      transparent 8px 16px
    ),
    #070707;
  box-shadow:
    inset 0 0 0 1px rgb(0 255 65 / 35%),
    0 0 15px rgb(0 255 65 / 18%);
  transition: border-color 180ms steps(2, end), box-shadow 180ms steps(2, end);
}

.svr-modal-preview-frame::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    repeating-linear-gradient(
      180deg,
      rgb(0 0 0 / 0%) 0 3px,
      rgb(0 0 0 / 28%) 3px 4px
    ),
    linear-gradient(180deg, rgb(0 0 0 / 10%), rgb(0 0 0 / 55%));
}

.svr-modal-preview-image,
.svr-modal-preview-placeholder {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
}

.svr-modal-preview-image {
  object-fit: cover;
  filter: grayscale(28%) contrast(1.05) saturate(0.7);
  transition: transform 240ms steps(4, end);
}

.svr-modal-preview-placeholder {
  background:
    radial-gradient(circle at 74% 26%, rgb(0 255 65 / 16%), transparent 34%),
    radial-gradient(circle at 22% 72%, rgb(239 255 0 / 14%), transparent 32%),
    repeating-linear-gradient(
      135deg,
      rgb(255 255 255 / 5%) 0 8px,
      transparent 8px 16px
    ),
    linear-gradient(145deg, #0b0b0b 10%, #171717 56%, #090909 100%);
}

.svr-modal-preview-play {
  position: absolute;
  z-index: 2;
  top: 50%;
  left: 50%;
  width: 56px;
  height: 56px;
  border-radius: 999px;
  border: 2px solid var(--svr-secondary);
  transform: translate(-50%, -50%);
  box-shadow: 0 0 12px rgb(0 255 65 / 35%);
  will-change: transform, opacity;
  animation: svr-ring-pulse 2.2s ease-in-out 3;
}

.svr-modal-preview-play span {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-top: 9px solid transparent;
  border-bottom: 9px solid transparent;
  border-left: 13px solid var(--svr-secondary);
  transform: translate(-40%, -50%);
}

.svr-modal-preview-rec {
  position: absolute;
  z-index: 2;
  left: 0.55rem;
  bottom: 0.55rem;
  color: var(--svr-secondary);
  border: 2px solid var(--svr-secondary);
  background: rgb(0 0 0 / 78%);
  padding: 0.22rem 0.35rem;
  font-size: 0.52rem;
  animation: svr-rec-blink 1.5s steps(2, end) infinite;
}

.svr-modal-preview-meta {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  border-top: 1px solid var(--svr-border);
  color: var(--svr-muted);
  font-size: 0.5rem;
  padding-top: 0.3rem;
  transition: color 180ms ease;
  animation: svr-text-glitch-in 420ms steps(6, end) both;
  animation-delay: 210ms;
}

.svr-modal-data {
  display: grid;
  gap: 0.35rem;
}

.svr-modal-body h3 {
  display: inline-block;
  --svr-glitch-final-shadow: 2px 2px 0 #000;
  margin: 0;
  color: var(--svr-primary);
  font-size: clamp(0.9rem, 2vw, 1.2rem);
  line-height: 1.45;
  letter-spacing: 0.03em;
  text-shadow: 2px 2px 0 #000;
  animation: svr-text-glitch-in 460ms steps(7, end) both;
  animation-delay: 220ms;
}

.svr-modal-title-wrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.svr-rank-tier {
  display: inline-block;
  min-width: 6.2rem;
  text-align: center;
  padding: 0.35rem 0.5rem;
  border: 2px solid var(--svr-border);
  background:
    linear-gradient(180deg, rgb(255 255 255 / 6%), transparent 50%),
    rgb(0 0 0 / 78%);
  color: var(--svr-secondary);
  font-size: 0.62rem;
  text-shadow: 1px 1px 0 rgb(0 0 0 / 65%);
  animation: svr-text-glitch-in 430ms steps(6, end) both;
  animation-delay: 280ms;
  transition: transform 160ms steps(2, end), box-shadow 160ms steps(2, end);
}

.svr-rank-tier--s {
  border-color: var(--svr-primary);
  color: var(--svr-primary);
}

.svr-rank-tier--a {
  border-color: var(--svr-secondary);
  color: var(--svr-secondary);
}

.svr-rank-tier--b {
  border-color: #6bd95b;
  color: #a6f59a;
}

.svr-rank-tier--c {
  border-color: #d7b338;
  color: #f2d773;
}

.svr-rank-tier--d {
  border-color: #b06d3d;
  color: #e9aa7c;
}

.svr-modal-grid {
  display: grid;
  gap: 0.5rem;
  margin-top: 1rem;
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

.svr-modal-cell {
  border: 2px solid var(--svr-border);
  background:
    linear-gradient(180deg, rgb(255 255 255 / 4%), transparent 42%),
    rgb(0 0 0 / 76%);
  padding: 0.65rem;
  box-shadow: inset 0 0 0 1px rgb(255 255 255 / 3%);
  transition:
    border-color 160ms steps(2, end),
    box-shadow 160ms steps(2, end),
    transform 160ms steps(2, end);
}

.svr-modal-cell:hover {
  transform: translateY(-1px);
  border-color: var(--svr-secondary);
  box-shadow: 0 0 10px rgb(0 255 65 / 20%);
}

.svr-modal-cell span {
  display: block;
  color: var(--svr-muted);
  font-size: 0.54rem;
  letter-spacing: 0.04em;
  animation: svr-text-glitch-in 360ms steps(6, end) both;
  animation-delay: 320ms;
}

.svr-modal-cell strong {
  display: block;
  margin-top: 0.35rem;
  color: var(--svr-secondary);
  font-size: 0.68rem;
  text-shadow: 0 0 7px rgb(0 255 65 / 24%);
  animation: svr-text-glitch-in 420ms steps(6, end) both;
  animation-delay: 380ms;
}

.svr-modal-cell-highlight {
  border-color: var(--svr-primary);
}

.svr-modal-cell-highlight strong {
  color: var(--svr-primary);
}

.svr-modal-text {
  margin: 1rem 0 0;
  line-height: 1.7;
  color: var(--svr-muted);
  font-size: 0.62rem;
  border-top: 1px solid rgb(0 255 65 / 35%);
  padding-top: 0.6rem;
  animation: svr-text-glitch-in 420ms steps(6, end) both;
  animation-delay: 430ms;
}

.svr-rank-meter-wrap {
  margin-top: 0.85rem;
  border: 2px solid rgb(255 255 255 / 20%);
  background:
    linear-gradient(180deg, rgb(255 255 255 / 5%), transparent 45%),
    rgb(0 0 0 / 74%);
  padding: 0.65rem;
}

.svr-rank-meter-label {
  display: flex;
  justify-content: space-between;
  gap: 0.5rem;
  color: var(--svr-muted);
  font-size: 0.52rem;
  animation: svr-text-glitch-in 400ms steps(6, end) both;
  animation-delay: 340ms;
}

.svr-rank-meter {
  position: relative;
  margin-top: 0.45rem;
  height: 10px;
  border: 1px solid var(--svr-border);
  background: #050505;
  overflow: hidden;
}

.svr-rank-meter-value {
  position: relative;
  --svr-target-scale: var(--svr-rank-meter-scale, 0);
  width: 100%;
  transform-origin: left center;
  transform: scaleX(var(--svr-target-scale));
  will-change: transform;
  height: 100%;
  background: linear-gradient(90deg, var(--svr-secondary), var(--svr-primary));
  box-shadow: 0 0 12px rgb(0 255 65 / 28%);
  animation: svr-bar-load-in 680ms steps(10, end) both;
  animation-delay: 360ms;
  transition: transform 220ms steps(6, end);
}

.svr-rank-meter-value::after {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.7;
  background: repeating-linear-gradient(90deg, rgb(255 255 255 / 22%) 0 2px, transparent 2px 7px);
  animation: svr-grid-drift 820ms steps(8, end) 2;
}

.svr-rank-meter-average {
  position: absolute;
  top: -2px;
  bottom: -2px;
  left: var(--svr-rank-average-position, 0%);
  transform: translateX(-50%);
  will-change: transform, opacity;
  animation: svr-bar-marker-load-in 520ms steps(8, end) both;
  animation-delay: 420ms;
  transition:
    left 220ms steps(6, end),
    opacity 220ms steps(6, end);
  width: 2px;
  background: #fff;
  opacity: 0.85;
  box-shadow: 0 0 8px rgb(255 255 255 / 70%);
}

.svr-modal:hover .svr-modal-preview-frame {
  border-color: var(--svr-primary);
  box-shadow: 0 0 14px rgb(239 255 0 / 26%);
}

.svr-modal:hover .svr-modal-preview-image {
  transform: scale(1.03);
}

.svr-modal:hover .svr-modal-preview-meta {
  color: var(--svr-secondary);
}

.svr-modal:hover .svr-rank-tier {
  transform: translateY(-1px);
  box-shadow: 0 0 10px rgb(0 255 65 / 22%);
}

.svr-modal:hover .svr-rank-meter-value::after {
  animation: svr-grid-drift 850ms linear infinite;
}

@media (min-width: 640px) {
  .svr-modal-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 860px) {
  .svr-modal-layout {
    align-items: start;
    grid-template-columns: minmax(240px, 0.86fr) minmax(0, 1.44fr);
  }

  .svr-modal-preview {
    padding-right: 0.85rem;
    border-right: 2px solid var(--svr-border);
  }
}

@media (min-width: 900px) {
  .svr-modal-backdrop {
    font-size: 12px;
  }
}
